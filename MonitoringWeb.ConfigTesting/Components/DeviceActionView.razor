@using MonitoringWeb.ConfigTesting.Services
@using MonitoringSystem.Shared.Data.EntityDtos
@inject ConfigApiClient Client

<DxGrid Data="@DeviceActions">
    <Columns>
        <DxGridDataColumn FieldName="@nameof(DeviceActionDto.Name)"/>
        <DxGridDataColumn FieldName="@nameof(DeviceActionDto.FirmwareId)"/>
        <DxGridDataColumn FieldName="@nameof(DeviceActionDto.ActionType)"/>
    </Columns>
</DxGrid>

@code {
    [Parameter]
    public string? DeviceId { get; set; }

    IEnumerable<DeviceActionDto> DeviceActions { get; set; } = Enumerable.Empty<DeviceActionDto>();

    protected override async Task OnInitializedAsync() {
        try {
            this.DeviceActions = await this.Client.GetDeviceAction(this.DeviceId);
            int count = this.DeviceActions.Count();
        } catch {
            
        }

    }
}